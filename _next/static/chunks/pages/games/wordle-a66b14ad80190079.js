(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[813],{5296:(e,r,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/games/wordle",function(){return t(7893)}])},7893:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>l});var s=t(7876),n=t(8230),c=t.n(n),a=t(4232);function l(){let e="FOAMY",r=Array.from({length:30},()=>"block"),t=Array.from({length:26},()=>"key"),[n,l]=(0,a.useState)(r),[i,u]=(0,a.useState)(t),[o,d]=(0,a.useState)(["","","","","",""]),[h,f]=(0,a.useState)(0),[k,m]=(0,a.useState)(new Set),[w,N]=(0,a.useState)("empty"),[p,v]=(0,a.useState)("invisible"),[x,g]=(0,a.useState)(!0),y=(0,a.useRef)(h),E=(0,a.useRef)(o),b=(0,a.useRef)(k),j=(e,r)=>{l(t=>{let s=[...t];return"block"===s[5*y.current+r]&&(s[5*y.current+r]=e),s}),u(t=>{let s=E.current[y.current][r],n=[...t];return("key"===n[M.indexOf(s)]||"correct"===e)&&(n[M.indexOf(s)]="k-".concat(e)),n})},S=e=>{N(e),v("alert"),setTimeout(()=>{v("invisible")},1e3)},_=e=>{"Enter"===e?5===E.current[y.current].length?A():S("Not enough letters"):"Backspace"===e?d(e=>{let r=[...e];return r[y.current]=e[y.current].slice(0,-1),r}):E.current[y.current].length<5&&/^[A-Za-z]$/.test(e)&&d(r=>{let t=[...r];return t[y.current]=r[y.current]+e.toUpperCase(),t})},C=e=>{_(e.key)},A=()=>{let r=E.current[y.current],t=e;if(!b.current.has(r))return void S("Not in word list");if(r===e){switch(y.current){case 0:S("Genius");break;case 1:S("Magnificent");break;case 2:S("Impressive");break;case 3:S("Splendid");break;case 4:S("Great");break;case 5:S("Phew")}window.removeEventListener("keydown",C),g(!1)}for(let s=0;s<e.length;s++)if(console.log(t),r[s]===t[s])j("correct",s),t=t.replace(t[s]," ");else{for(let e=0;e<r.length;e++)if(r[s]===t[e]){j("almost",s),t=t.replace(t[e]," ");break}j("wrong",s)}y.current<5&&f(e=>e+1)};(0,a.useEffect)(()=>{b.current=new Set(k)},[k]),(0,a.useEffect)(()=>{fetch("/words.txt").then(e=>e.text()).then(e=>{console.log("reading words..."),m(new Set(e.split("\n").map(e=>e.trim().toUpperCase())))})},[]),(0,a.useEffect)(()=>{y.current=h},[h]),(0,a.useEffect)(()=>{E.current=o},[o]),(0,a.useEffect)(()=>{window.addEventListener("keydown",C)},[]);let O=Array.from({length:30},(e,r)=>(0,s.jsx)("div",{className:n[r],children:o[Math.floor(r/5)][r%5]},r)),B=[["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["Z","X","C","V","B","N","M"]],M=B.flat(1),P=(e,r)=>Array.from(e,(e,t)=>(0,s.jsx)("div",{onClick:x?()=>{_(e)}:()=>{},className:i[t+r],children:e},e)),R=P(B[0],0),T=P(B[1],10),F=P(B[2],19);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"top-bar",children:[(0,s.jsx)(c(),{className:"back",href:"../",children:"Back"}),(0,s.jsx)("h1",{className:"game-header",children:"Wordle"}),(0,s.jsx)("div",{className:"placeholder"})]}),(0,s.jsx)("div",{className:p,children:w}),(0,s.jsx)("div",{className:"grid",children:O}),(0,s.jsxs)("div",{className:"keyboard",children:[(0,s.jsx)("div",{className:"keys-row-one",children:R}),(0,s.jsx)("div",{className:"keys-row-two",children:T}),(0,s.jsxs)("div",{className:"keys-row-three",children:[(0,s.jsx)("div",{onClick:x?()=>{_("Enter")}:()=>{},className:"special-key",children:"Enter"}),F,(0,s.jsx)("div",{onClick:()=>{_("Backspace")},className:"special-key",children:"Del"})]})]})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[230,636,593,792],()=>r(5296)),_N_E=e.O()}]);